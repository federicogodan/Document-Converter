/ Nav tabs
%ul.nav.nav-tabs
  %li
    %a{"data-toggle" => "tab", href: "#profile"} My Profile
  %li
    %a{"data-toggle" => "tab", href: "#webhooks"} My Webhooks
  %li
    %a{"data-toggle" => "tab", href: "#api_keys"} My API Keys
/ Tab panes
.tab-content
  #webhooks.tab-pane.active
    .row
      .col-md-offset-1.col-md-10
        %table.table.table-hover.table-responsive{id: 'webook_list'}
          %tr
            %th Url
            %th
          - @webhoooks.each do | webhoook |
            %tr
              %td= webhoook.url
              %td= link_to 'Destroy', webhoook, method: :delete, data: { confirm: 'Are you sure?' }
      .col-md-offset-1.col-md-10
        = link_to 'New Webhook', new_webhoook_path
        %br
        = link_to 'Back', '/user/dashboard'
        = form_tag({:action => 'create', :controller => 'webhoooks'}, {:id => 'form_new_webhook'}) do
          /.field
          .form_url.form-group
            %label.col-sm-1.control-label{for: "webhook_url"}New Webhook
            .col-sm-10
              %input#webhook_new.form-control{name: "webhoook[url]", placeholder: "Webhook URL", type: "url"}
          =submit_tag "Upload", :class => 'btn btn-primary'
            
  #profile.tab-pane ...2
  #messages.tab-pane ...3
  #settings.tab-pane ...4



:javascript
$(document).ready(function() {

  //callback handler for form submit
  $("#form_new_webhook").submit(function(e)
  {
      var postData = $(this).serializeArray();
      var formURL = $(this).attr("action");
      $.ajax(
      {
          url : formURL,
          type: "POST",
          data : postData,
          success:function(data, textStatus, jqXHR) 
          {
              console.log(data)
              html_data = "<tr><td>" + data.url + "</td>"
              html_data += '"<td><a href="/webhoooks/' + data.id +'"'
              html_data += ' data-confirm="Are you sure?" data-method="delete" rel="nofollow">Destroy</a>'
              html_data += "</td></tr>"
              $( "#webook_list tbody" ).append( html_data );
              //data: return data from server
          },
          error: function(jqXHR, textStatus, errorThrown) 
          {
              //if fails      
          }
      });
      e.preventDefault(); //STOP default action
  });
   
  $("#ajaxform").submit(); //Submit  the FORM

}