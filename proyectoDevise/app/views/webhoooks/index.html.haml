/ Nav tabs
%ul.nav.nav-tabs
  %li
    %a{"data-toggle" => "tab", href: "#home"} Home
  %li
    %a{"data-toggle" => "tab", href: "#profile"} Profile
  %li
    %a{"data-toggle" => "tab", href: "#messages"} Messages
  %li
    %a{"data-toggle" => "tab", href: "#settings"} Settings
/ Tab panes
.tab-content
#home.tab-pane.active
  .row
    .col-md-offset-1.col-md-10
      %table.table.table-hover.table-responsive
        %tr
          %th Url
          %th
        - @webhoooks.each do | webhoook |
          %tr
            %td= webhoook.url
            %td= link_to 'Destroy', webhoook, method: :delete, data: { confirm: 'Are you sure?' }
    .col-md-offset-1.col-md-10
      = link_to 'New Webhook', new_webhoook_path
      %br
      = link_to 'Back', '/user/dashboard'
    
  #profile.tab-pane ...2
  #messages.tab-pane ...3
  #settings.tab-pane ...4

= form_tag({:id => 'form_new_webhook', :controller => 'webhoooks', :action => 'create'}) do
  /.field
  .form_url.form-group
    %label.col-sm-1.control-label{for: "webhook_url"}New Webhook
    .col-sm-10
      %input#webhook_new.form-control{name: "webhoook[url]", placeholder: "Webhook URL", type: "url"}
  =submit_tag "Upload", :class => 'btn btn-primary'

:javascript
$(document).ready(function() {
  
  //callback handler for form submit
  $("#form_new_webhook").submit(function(e)
  {
      var postData = $(this).serializeArray();
      var formURL = $(this).attr("action");
      $.ajax(
      {
          url : /webhooks,
          type: "POST",
          data : postData,
          success:function(data, textStatus, jqXHR) 
          {
              //data: return data from server
          },
          error: function(jqXHR, textStatus, errorThrown) 
          {
              //if fails      
          }
      });
      e.preventDefault(); //STOP default action
  });
   
  $("#ajaxform").submit(); //Submit  the FORM

}

